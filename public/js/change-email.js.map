{"version":3,"sources":["change-email.coffee"],"names":[],"mappings":"AAAA;AAAA,MAAA;;EAAA,WAAA,GAAc,SAAA;IACZ,CAAA,CAAE,eAAF,CAAkB,CAAC,QAAnB,CAA4B,QAA5B;IACA,CAAA,CAAE,eAAF,CAAkB,CAAC,WAAnB,CAA+B,QAA/B;EAFY;;EAId,WAAA,GAAc,SAAA;IACZ,CAAA,CAAE,eAAF,CAAkB,CAAC,WAAnB,CAA+B,QAA/B;IACA,CAAA,CAAE,eAAF,CAAkB,CAAC,QAAnB,CAA4B,QAA5B;EAFY;;EAKd,CAAA,CAAE,SAAA;WACA,CAAA,CAAE,eAAF,CAAkB,CAAC,KAAnB,CAAyB,SAAC,CAAD;AACvB,UAAA;MAAA,CAAC,CAAC,cAAF,CAAA;MACA,CAAA,CAAE,QAAF,CAAW,CAAC,WAAZ,CAAwB,SAAxB;MACA,KAAA,GAAQ,CAAA,CAAE,iBAAF,CAAoB,CAAC,GAArB,CAAA;MACR,WAAA,CAAA;MAEA,KAAA,GAAQ,CAAA,CAAE,QAAF,CAAW,CAAC,GAAZ,CAAA;MACR,UAAA,GAAa;MACb,IAAG,KAAK,CAAC,IAAN,CAAA,CAAA,KAAgB,EAAhB,IAAsB,CAAC,UAAU,CAAC,IAAX,CAAgB,KAAhB,CAA1B;QACE,CAAA,CAAE,QAAF,CAAW,CAAC,QAAZ,CAAqB,SAArB;QACA,MAAM,CAAC,KAAP,CAAa,yDAAb;QACA,WAAA,CAAA;AACA,eAJF;;MAMA,CAAC,CAAC,IAAF,CAAO,eAAP,EAAwB;QAAC,MAAA,EAAQ,KAAT;QAAgB,KAAA,EAAO,KAAvB;OAAxB,EAAwD,SAAC,IAAD;QACtD,IAAG,CAAC,IAAI,CAAC,OAAT;UACE,MAAM,CAAC,KAAP,CAAa,IAAI,CAAC,OAAlB;UACA,WAAA,CAAA;AACA,iBAHF;SAAA,MAAA;UAKE,MAAM,CAAC,QAAQ,CAAC,IAAhB,GAAuB,IAAI,CAAC,IAL9B;;MADsD,CAAxD,CAQC,CAAC,IARF,CAQO,SAAA;QACL,MAAM,CAAC,KAAP,CAAa,6CAAb;QACA,WAAA,CAAA;MAFK,CARP;IAduB,CAAzB;EADA,CAAF;AATA","file":"change-email.js","sourcesContent":["showSpinner = ->\n  $('#change-email').addClass('hidden')\n  $('.spinner-wrap').removeClass('hidden')\n  return\nhideSpinner = ->\n  $('#change-email').removeClass('hidden')\n  $('.spinner-wrap').addClass('hidden')\n  return\n\n$ ->\n  $('#change-email').click (e) ->\n    e.preventDefault();\n    $('#email').removeClass 'invalid'\n    token = $('[name=\"_token\"]').val()\n    showSpinner()\n\n    email = $('#email').val()\n    emailRegex = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/\n    if email.trim() == \"\" or !emailRegex.test(email)\n      $('#email').addClass 'invalid'\n      toastr.error(\"Unul sau mai multe câmpuri sunt goale sau conțin erori!\")\n      hideSpinner()\n      return\n\n    $.post('/change-email', {_token: token, email: email} , (json) ->\n      if !json.success\n        toastr.error(json.message)\n        hideSpinner()\n        return\n      else\n        window.location.href = json.url\n      return\n    ).fail ->\n      toastr.error('A intervenit o problemă care nu ține de noi')\n      hideSpinner()\n      return\n    return"]}