{"version":3,"sources":["dorm.coffee"],"names":[],"mappings":"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","file":"dorm.js","sourcesContent":["showSpinner = ->\n  $('#send-dorm').addClass('hidden')\n  $('.spinner-wrap').removeClass('hidden')\n  return\nhideSpinner = ->\n  $('#send-dorm').removeClass('hidden')\n  $('.spinner-wrap').addClass('hidden')\n  return\nshowSpinnerNormal = ->\n  $('.spinner-wrap').removeClass('hidden')\n  $('#pick-dorm').addClass('hidden')\n  return\nhideSpinnerNormal = ->\n  $('.spinner-wrap').addClass('hidden')\n  $('#pick-dorm').removeClass('hidden')\n  return\n\nremoveInvalidClasses = ->\n  $('#dorm-name').removeClass 'invalid'\n  $('#dorm-code').removeClass 'invalid'\n$ ->\n\n  $('#send-dorm').click (e) ->\n    e.preventDefault()\n    removeInvalidClasses()\n    showSpinner()\n    name = $('#dorm-name').val()\n    code = $('#dorm-code').val()\n    description = $('#dorm-description').val()\n    token = $('[name=\"_token\"]').val()\n\n    if name.trim() == \"\"\n      $('#dorm-name').addClass 'invalid'\n      toastr.error(\"Unul sau mai multe câmpuri sunt goale sau conțin erori!\")\n      hideSpinner()\n      return\n    if code.trim() == \"\"\n      $('#dorm-code').addClass 'invalid'\n      toastr.error(\"Unul sau mai multe câmpuri sunt goale sau conțin erori!\")\n      hideSpinner()\n      return\n\n    $.post( '/dorms', {_token: token, name: name, code: code, description: description}, (json) ->\n      if !json.success\n        toastr.error(json.message)\n        hideSpinner()\n        return\n      else\n        window.location.href = '/dorms'\n      return\n    ).fail ->\n        toastr.error('A intervenit o problemă care nu ține de noi')\n      return\n    return\n\n  $('#pick-dorm').click (e) ->\n    e.preventDefault()\n    showSpinnerNormal()\n    token = $('[name=\"_token\"]').val()\n    dorm = $('#dorm-select').val()\n    $.post '/select-dorm', {_token: token, dorm:dorm}, (json) ->\n      if !json.success\n        toastr.error(json.message)\n        hideSpinnerNormal()\n        return\n      else\n        window.location.href = '/select-dorm'\n      return\n    return"]}