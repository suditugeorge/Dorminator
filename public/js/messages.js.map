{"version":3,"sources":["messages.coffee"],"names":[],"mappings":"AAAA;AAAA,MAAA;;EAAA,WAAA,GAAc,SAAA;IACZ,CAAA,CAAE,eAAF,CAAkB,CAAC,QAAnB,CAA4B,QAA5B;IACA,CAAA,CAAE,eAAF,CAAkB,CAAC,WAAnB,CAA+B,QAA/B;EAFY;;EAId,WAAA,GAAc,SAAA;IACZ,CAAA,CAAE,eAAF,CAAkB,CAAC,WAAnB,CAA+B,QAA/B;IACA,CAAA,CAAE,eAAF,CAAkB,CAAC,QAAnB,CAA4B,QAA5B;EAFY;;EAKd,oBAAA,GAAuB,SAAA;IACrB,CAAA,CAAE,WAAF,CAAc,CAAC,WAAf,CAA2B,SAA3B;IACA,CAAA,CAAE,UAAF,CAAa,CAAC,WAAd,CAA0B,SAA1B;WACA,CAAA,CAAE,UAAF,CAAa,CAAC,WAAd,CAA0B,SAA1B;EAHqB;;EAIvB,CAAA,CAAE,SAAA;IAEA,CAAA,CAAE,eAAF,CAAkB,CAAC,KAAnB,CAAyB,SAAC,CAAD;AACvB,UAAA;MAAA,CAAC,CAAC,cAAF,CAAA;MACA,oBAAA,CAAA;MACA,WAAA,CAAA;MACA,QAAA,GAAW,CAAA,CAAE,WAAF,CAAc,CAAC,GAAf,CAAA;MACX,OAAA,GAAU,CAAA,CAAE,UAAF,CAAa,CAAC,GAAd,CAAA;MACV,OAAA,GAAU,CAAA,CAAE,UAAF,CAAa,CAAC,GAAd,CAAA;MACV,KAAA,GAAQ,CAAA,CAAE,iBAAF,CAAoB,CAAC,GAArB,CAAA;MAER,IAAG,QAAQ,CAAC,IAAT,CAAA,CAAA,KAAmB,EAAtB;QACE,CAAA,CAAE,WAAF,CAAc,CAAC,QAAf,CAAwB,SAAxB;QACA,MAAM,CAAC,KAAP,CAAa,yDAAb;QACA,WAAA,CAAA;AACA,eAJF;;MAKA,IAAG,OAAO,CAAC,IAAR,CAAA,CAAA,KAAkB,EAArB;QACE,CAAA,CAAE,UAAF,CAAa,CAAC,QAAd,CAAuB,SAAvB;QACA,MAAM,CAAC,KAAP,CAAa,yDAAb;QACA,WAAA,CAAA;AACA,eAJF;;MAKA,IAAG,OAAO,CAAC,IAAR,CAAA,CAAA,KAAkB,EAArB;QACE,CAAA,CAAE,UAAF,CAAa,CAAC,QAAd,CAAuB,SAAvB;QACA,MAAM,CAAC,KAAP,CAAa,yDAAb;QACA,WAAA,CAAA;AACA,eAJF;;MAMA,CAAC,CAAC,IAAF,CAAO,cAAP,EAAuB;QAAC,MAAA,EAAQ,KAAT;QAAgB,QAAA,EAAU,QAA1B;QAAoC,OAAA,EAAS,OAA7C;QAAsD,OAAA,EAAS,OAA/D;OAAvB,EAAgG,SAAC,IAAD;QAC9F,IAAG,CAAC,IAAI,CAAC,OAAT;UACE,MAAM,CAAC,KAAP,CAAa,IAAI,CAAC,OAAlB;UACA,WAAA,CAAA,EAFF;SAAA,MAAA;UAKE,MAAM,CAAC,OAAP,CAAe,IAAI,CAAC,OAApB;UACA,WAAA,CAAA;iBACA,CAAA,CAAE,eAAF,CAAkB,CAAC,QAAnB,CAA4B,QAA5B,EAPF;;MAD8F,CAAhG;IAzBuB,CAAzB;EAFA,CAAF;AAbA","file":"messages.js","sourcesContent":["showSpinner = ->\n  $('#send-message').addClass('hidden')\n  $('.spinner-wrap').removeClass('hidden')\n  return\nhideSpinner = ->\n  $('#send-message').removeClass('hidden')\n  $('.spinner-wrap').addClass('hidden')\n  return\n\nremoveInvalidClasses = ->\n  $('#username').removeClass 'invalid'\n  $('#subject').removeClass 'invalid'\n  $('#message').removeClass 'invalid'\n$ ->\n\n  $('#send-message').click (e) ->\n    e.preventDefault()\n    removeInvalidClasses()\n    showSpinner()\n    username = $('#username').val()\n    subject = $('#subject').val()\n    message = $('#message').val()\n    token = $('[name=\"_token\"]').val()\n\n    if username.trim() == \"\"\n      $('#username').addClass 'invalid'\n      toastr.error(\"Unul sau mai multe câmpuri sunt goale sau conțin erori!\")\n      hideSpinner()\n      return\n    if subject.trim() == \"\"\n      $('#subject').addClass 'invalid'\n      toastr.error(\"Unul sau mai multe câmpuri sunt goale sau conțin erori!\")\n      hideSpinner()\n      return\n    if message.trim() == \"\"\n      $('#message').addClass 'invalid'\n      toastr.error(\"Unul sau mai multe câmpuri sunt goale sau conțin erori!\")\n      hideSpinner()\n      return\n\n    $.post '/new-message', {_token: token, username: username, subject: subject, message: message}, (json) ->\n      if !json.success\n        toastr.error(json.message)\n        hideSpinner()\n        return\n      else\n        toastr.success(json.message)\n        hideSpinner()\n        $('#send-message').addClass('hidden')\n    return\n  return"]}