{"version":3,"sources":["student.coffee"],"names":[],"mappings":"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","file":"student.js","sourcesContent":["showSpinner = ->\n  $('#send-student').addClass('hidden')\n  $('.spinner-wrap').removeClass('hidden')\n  return\nhideSpinner = ->\n  $('#send-student').removeClass('hidden')\n  $('.spinner-wrap').addClass('hidden')\n  return\n\nremoveInvalidClasses = ->\n  $('#student-name').removeClass 'invalid'\n  $('#student-code').removeClass 'invalid'\n  $('#student-description').removeClass 'invalid'\n$ ->\n\n  $('#send-student').click (e) ->\n    e.preventDefault()\n    #removeInvalidClasses()\n    #showSpinner()\n    name = $('#student-name').val()\n    grade = parseFloat($('#student-grade').val())\n    cnp = $('#student-cnp').val()\n    phone = $('#student-phone').val()\n    email = $('#student-email').val()\n    code = $('#student-code').val()\n    female = $('#student-female:checked').val()\n    male = $('#student-male:checked').val()\n    token = $('[name=\"_token\"]').val()\n    sex = 'M'\n    if female\n      sex = 'F'\n    data = {\n      name: name,\n      grade: grade,\n      cnp: cnp,\n      phone: phone,\n      email: email,\n      code: code,\n      sex: sex,\n      _token: token\n    }\n    phone_regex = /^[0-9]+$/\n    if data.name.trim() == \"\"\n      $('#student-name').addClass 'invalid'\n      toastr.error(\"Unul sau mai multe câmpuri sunt goale sau conțin erori!\")\n      hideSpinner()\n      return\n    if data.grade == NaN or data.grade > 10.00\n      $('#student-phone').addClass 'invalid'\n      toastr.error(\"Unul sau mai multe câmpuri sunt goale sau conțin erori!\")\n      hideSpinner()\n      return\n    if data.code.trim() == \"\"\n      $('#student-code').addClass 'invalid'\n      toastr.error(\"Unul sau mai multe câmpuri sunt goale sau conțin erori!\")\n      hideSpinner()\n      return\n    if data.phone.trim() != \"\" and !phone_regex.test(data.phone)\n      $('#student-phone').addClass 'invalid'\n      toastr.error(\"Unul sau mai multe câmpuri sunt goale sau conțin erori!\")\n      hideSpinner()\n      return\n\n    $.post '/add-students', data, (json) ->\n      if !json.success\n        toastr.error(json.message)\n        hideSpinner()\n        return\n      else\n        toastr.success(json.message)\n        hideSpinner()\n        $('#send-student').addClass('hidden')\n    return\n  return"]}